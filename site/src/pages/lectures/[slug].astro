---
import Button from "@/components/Button.astro"
import PageHeader from "@/components/PageHeader.astro"
import Layout from "@/layouts/Layout.astro"
import MaxWidth from "@/layouts/MaxWidth.astro"
import { getCollection } from "astro:content"

export async function getStaticPaths() {
  const lectures = await getCollection("lectures")
  return lectures.map((lecture) => {
    return {
      params: { slug: lecture.slug },
      props: { lecture },
    }
  })
}

const { lecture } = Astro.props
const { Content } = await lecture.render()
---

<Layout title={lecture.data.title}>
  <PageHeader
    title={lecture.data.title}
    paragraphs={[]}
    image="/images/cats-on-counter.jfif"
    imageProps={{ class: "w-[312px]" }}
  >
    <Button class="mt-8" size="lg" slot="cta">מילוי פרטים ורכישה</Button>
  </PageHeader>

  <div class="bg-bg-alt p-12 [&_p]:!text-base">
    <MaxWidth>
      <div id="lecture-description">
        <Content />
      </div>
    </MaxWidth>
  </div>

  <div class="bg-primary-bg p-12 text-center">
    <MaxWidth>
      <Button size="lg">מילוי פרטים ורכישה</Button>
    </MaxWidth>
  </div>
</Layout>
